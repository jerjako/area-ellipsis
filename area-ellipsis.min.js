if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!window.getComputedStyle){window.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;if(t=="float")t="styleFloat";if(n.test(t)){t=t.replace(n,function(){return arguments[2].toUpperCase()})}return e.currentStyle[t]?e.currentStyle[t]:null};return this}}window.areaEllipsis={responsive:true,resizeTimeout:0,data:[],init:function(e){window.areaEllipsis.responsive=!!(e&&e.responsive||true);setTimeout(function(){window.areaEllipsis.ellipsis()},500);if(window.areaEllipsis.responsive){window.areaEllipsis.initEvent()}},lastChild:function(e){var t,n,r,i;while(e.children.length){n=e.childNodes;i=e.innerHTML;i=i.trim();r=i.substr(i.length-1,i.length);if(r!==">"){return e}t=e.children;e=t[t.length-1]}return e},childLength:function(e){var t=e.children,n=0;if(!t){return 0}for(var r=0;r<t.length;r++){n+=t[r].offsetHeight}return n},ellipsis:function(e){var t=document.querySelectorAll(".ellipsis");for(var n=0;n<t.length;n++){var r=t[n];if(e&&r.getAttribute("ellipsis")){r.innerHTML=window.areaEllipsis.data[r.getAttribute("ellipsis")]}var i=window.areaEllipsis.lastChild(r),s,o=0,u=false,a,f,l=parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-top"),10)+parseInt(window.getComputedStyle(r,null).getPropertyValue("padding-bottom"),10);while((a=window.areaEllipsis.childLength(r)-(r.offsetHeight-l))>0||u){if(o===0){r.setAttribute("ellipsis",window.areaEllipsis.data.length);window.areaEllipsis.data.push(r.innerHTML.trim())}s=i.innerHTML.trim();f=s.length-s.length*.1;if((s.length>50&&i.offsetTop>0||u)&&f>0){i.innerHTML=s.substr(0,f)+"...";u=false}else if(i!=r&&i.nodeName!="#text"){i.parentNode.removeChild(i);u=true}if(o++>5e3){break}i=window.areaEllipsis.lastChild(r)}}},addEventListener:function(e,t,n){if(e.addEventListener){e.addEventListener(t,n)}else{e.attachEvent("on"+t,function(){n.call(e)})}},initEvent:function(){var e=function(){if(window.areaEllipsis.resizeTimeout){clearTimeout(window.areaEllipsis.resizeTimeout);window.areaEllipsis.resizeTimeout=0}window.areaEllipsis.resizeTimeout=setTimeout(function(){window.areaEllipsis.ellipsis(true)},100)};window.areaEllipsis.addEventListener(window,"resize",e)}};window.areaEllipsis.init()