"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),window.areaEllipsis={responsive:!0,resizeTimeout:0,data:[],init:function(a){window.areaEllipsis.responsive=!0,setTimeout(function(){window.areaEllipsis.ellipsis()},500),window.areaEllipsis.responsive&&window.areaEllipsis.initEvent()},lastChild:function(a){for(var b,c,d,e;a.children.length;){if(c=a.childNodes,e=a.innerHTML,e=e.trim(),d=e.substr(e.length-1,e.length),">"!==d)return a;b=a.children,a=b[b.length-1]}return a},childLength:function(a){var b=a.children,c=0;if(!b)return 0;for(var d=0;d<b.length;d++)c+=b[d].offsetHeight;return c},ellipsis:function(a){for(var b=document.querySelectorAll(".ellipsis"),c=0;c<b.length;c++){var d=b[c];a&&d.getAttribute("ellipsis")&&(window.ellipsis.innerHTML=window.areaEllipsis.data[d.getAttribute("ellipsis")]);for(var f,i,j,e=window.areaEllipsis.lastChild(d),g=0,h=!1;((i=window.areaEllipsis.childLength(d)-d.offsetHeight)>0||h)&&(0===g&&(d.setAttribute("ellipsis",window.areaEllipsis.data.length),window.areaEllipsis.data.push(d.innerHTML.trim())),f=e.innerHTML.trim(),j=f.length-i,(f.length>50&&e.offsetTop>0||h)&&j>0?(e.innerHTML=f.substr(0,j)+"...",h=!1):e!=d&&"#text"!=e.nodeName&&(e.parentNode.removeChild(e),h=!0),!(g++>5e3));)e=window.areaEllipsis.lastChild(d)}},addEventListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,function(){c.call(a)})},initEvent:function(){var a=function(){window.areaEllipsis.resizeTimeout&&(clearTimeout(window.areaEllipsis.resizeTimeout),window.areaEllipsis.resizeTimeout=0),window.areaEllipsis.resizeTimeout=setTimeout(function(){window.areaEllipsis.ellipsis(!0)},300)};window.areaEllipsis.addEventListener(window,"resize",a)}},window.areaEllipsis.init();